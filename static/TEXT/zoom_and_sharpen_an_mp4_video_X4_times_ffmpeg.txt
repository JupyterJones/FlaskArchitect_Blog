#!/bin/bash
# zoom and sharpen a video X4 times 
# padding for keywords ffmpeg 4 times an mp4 video


ffmpeg -i $1 -vf "fps=60,scale=8000:-1,zoompan=z='pzoom+0.001':x=iw/2-(iw/zoom/2):y=ih/2-(ih/zoom/2):d=1:s=512x768:fps=60" -c:v libx264 -pix_fmt yuv420p -y output$1 

ffmpeg -i output$1 -vf "fps=60,scale=8000:-1,zoompan=z='pzoom+0.001':x=iw/2-(iw/zoom/2):y=ih/2-(ih/zoom/2):d=1:s=512x768:fps=60,unsharp=3:3:0.5:3:3:0.5" -c:v libx264 -pix_fmt yuv420p -y output_2_$1

ffmpeg -i output_2_$1 -vf "fps=60,scale=8000:-1,zoompan=z='pzoom+0.001':x=iw/2-(iw/zoom/2):y=ih/2-(ih/zoom/2):d=1:s=512x768:fps=60" -c:v libx264 -pix_fmt yuv420p -y output_3_$1

ffmpeg -i output_3_$1 -vf "fps=60,scale=8000:-1,zoompan=z='pzoom+0.001':x=iw/2-(iw/zoom/2):y=ih/2-(ih/zoom/2):d=1:s=512x768:fps=60,unsharp=3:3:0.5:3:3:0.5" -c:v libx264 -pix_fmt yuv420p -y final_$1

vlc final_$1

#ffmpeg -i output_4_$1 -vf "fps=60,scale=8000:-1,zoompan=z='pzoom+0.001':x=iw/2-(iw/zoom/2):y=ih/2-(ih/zoom/2):d=1:s=512x768:fps=60" -c:v libx264 -pix_fmt yuv420p -y final_$1


