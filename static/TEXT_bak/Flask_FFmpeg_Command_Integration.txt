Flask FFmpeg Command Integration
user
FFmpeg -hide_banner -loop 1 -i $1 -vf 'unsharp=5:5:1.0:5:5:0.0,scale=10000:1536,scroll=horizontal=0.0001,crop=1024:1536:0:0,scale=512x768',format=yuv420p -t 58 -y /home/jack/Desktop/HDD500/EXPER/static/scrolls/$2
how do I run this with Flask?  I need an input for $1 and $2 then a button to run the command
ChatGPT
Certainly, Jack! To achieve this with Flask, you'll need to create a simple web interface that takes inputs for `$1` and `$2`, and then triggers the execution of the FFmpeg command upon clicking a button. I'll guide you through creating a Flask application with the necessary HTML form and backend code.

Let's start with the Flask application:

```python
from flask import Flask, render_template, request
import subprocess
import os

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/execute', methods=['POST'])
def execute():
    input_file = request.form['input_file']
    output_file = request.form['output_file']

    # Ensure the input file exists
    if not os.path.exists(input_file):
        return "Error: Input file does not exist."

    # Build and execute the FFmpeg command
    command = f"ffmpeg -hide_banner -loop 1 -i {input_file} -vf 'unsharp=5:5:1.0:5:5:0.0,scale=10000:1536,scroll=horizontal=0.0001,crop=1024:1536:0:0,scale=512x768',format=yuv420p -t 58 -y /home/jack/Desktop/HDD500/EXPER/static/scrolls/{output_file}"
    subprocess.run(command, shell=True)

    return "Command executed successfully."

if __name__ == '__main__':
    app.run(debug=True)
```

Now, let's create the HTML template (`templates/index.html`) for the form:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFmpeg Command Executor</title>
</head>
<body>
    <h1>FFmpeg Command Executor</h1>
    
    <form action="/execute" method="post">
        <label for="input_file">Input File Path:</label>
        <input type="text" name="input_file" required><br>

        <label for="output_file">Output File Name:</label>
        <input type="text" name="output_file" required><br>

        <button type="submit">Execute FFmpeg Command</button>
    </form>
</body>
</html>
```

This simple Flask app provides a form where you can input the file paths for `$1` (input_file) and `$2` (output_file). When you submit the form, it triggers the `/execute` route, which executes the FFmpeg command using the provided file paths.

Feel free to integrate this into your existing Flask application. If you encounter any issues or need further customization, let me know!

